"use strict";(self.webpackChunkforecastpro=self.webpackChunkforecastpro||[]).push([[395],{8931:(e,t,a)=>{a.d(t,{F:()=>s});const s={key:"8d4cdf8f8a1e4cb1a3f8e886d69e86c3",base:"https://api.openweathermap.org/data/2.5/"}},5606:(e,t,a)=>{a.d(t,{A:()=>l});a(5043);var s=a(5475);const i="Navigation_nav__7WdPp",n="Navigation_links__7LFKj",c="Navigation_navLink__7PcdX";var r=a(579);const l=function(){return(0,r.jsx)("div",{className:i,children:(0,r.jsxs)("div",{className:n,children:[(0,r.jsx)("div",{className:c,children:(0,r.jsx)(s.k2,{to:"/",children:"Today"})}),(0,r.jsx)("div",{className:c,children:(0,r.jsx)(s.k2,{to:"/fivedays",children:"5 DAYS"})})]})})}},9395:(e,t,a)=>{a.r(t),a.d(t,{default:()=>_});var s=a(5043),i=a(6213);const n={fiveDays:"FiveDays_fiveDays__+BcFv",navigation:"FiveDays_navigation__iJaOR",title:"FiveDays_title__DafaV",forecast:"FiveDays_forecast__NrTrQ",noData:"FiveDays_noData__JVyPU"};var c=a(5606),r=a(8931);const l={forecastEntry:"ForecastEntry_forecastEntry__A1jL-",minMaxtemp:"ForecastEntry_minMaxtemp__WhRec",minMax:"ForecastEntry_minMax__mEAIo"};var o=a(7781);const d={weatherDetails:"ForecastDetails_weatherDetails__tUdbu",details:"ForecastDetails_details__OzPeP"};const h=a.p+"static/media/barometer.2d089d7af97a00c54d5c903527049a60.svg";const m=a.p+"static/media/humidity.9ec22921d6c9f17b14631809a0dd6a15.svg";const p=a.p+"static/media/wind.c853b67fe91a88bef749043941fcbf02.svg";var x=a(8636),u=a(579);const v=function(e){let{entry:t}=e;const[a,i]=(0,s.useState)("");return(0,u.jsxs)("div",{className:d.weatherDetails,children:[(0,u.jsx)("div",{className:d.weatherDescription,children:(0,u.jsx)("p",{children:t.weather[0].description})}),t.rain&&t.rain["3h"]&&(0,u.jsxs)("div",{className:d.details,children:[(0,u.jsx)("img",{src:h,alt:"rain"}),(0,u.jsxs)("p",{children:[t.rain["3h"]," mm"]})]}),(0,u.jsxs)("div",{className:d.details,children:[(0,u.jsx)("img",{src:m,alt:"rain"}),(0,u.jsxs)("p",{children:[t.main.humidity,"%"]})]}),(0,u.jsxs)("div",{className:d.details,children:[(0,u.jsx)("img",{src:p,alt:"wind"}),(0,u.jsxs)("p",{children:[t.wind.speed," m/s"]})]}),(0,u.jsxs)("div",{className:d.details,children:[(0,u.jsx)(x.A,{sx:{fill:"white",fillOpacity:.4,width:"20px"}}),(0,u.jsxs)("p",{children:[t.main.pressure," hPa"]})]}),(0,u.jsx)("button",{onClick:()=>{i(!a)},children:a?"Less Details":"More Details"}),a&&(0,u.jsxs)("div",{children:[(0,u.jsxs)("p",{children:["Wind Direction: ",(n=t.wind.deg,["N","NE","E","SE","S","SW","W","NW"][Math.round(n/45)%8])]}),(0,u.jsxs)("p",{children:["Wind Gust: ",t.wind.gust," m/s"]}),(0,u.jsxs)("p",{children:["Visibility: ",t.visibility/1e3," km"]})]})]});var n},y=e=>Math.round(e-273.15),g=e=>{let{entry:t}=e;const[a,i]=(0,s.useState)(!1),n=new Date(1e3*t.dt),{formattedDate:c,formattedMonth:r}=(0,o.g)(n),d="https://openweathermap.org/img/w/".concat(t.weather[0].icon,".png"),h=y(t.main.temp),m=y(t.main.temp_min),p=y(t.main.temp_max);return(0,u.jsxs)("div",{className:l.forecastEntry,children:[(0,u.jsx)("div",{dangerouslySetInnerHTML:{__html:c}}),(0,u.jsx)("p",{children:r}),(0,u.jsx)("img",{src:d,alt:"weather icon",width:"75px",height:"75px"}),(0,u.jsxs)("div",{className:l.temp,children:[" ",h," \u2103"]}),(0,u.jsxs)("div",{children:["Feels like: ",y(t.main.feels_like),"\u2103"]}),(0,u.jsxs)("div",{className:l.minMaxtemp,children:[(0,u.jsxs)("div",{className:l.minMax,children:[(0,u.jsx)("p",{children:"min:"}),(0,u.jsxs)("p",{children:[m," \u2103"]})]}),(0,u.jsx)("div",{className:l.span,children:(0,u.jsx)("span",{children:"|"})}),(0,u.jsxs)("div",{className:l.minMax,children:[(0,u.jsx)("p",{children:"max:"}),(0,u.jsxs)("p",{children:[p," \u2103"]})]})]}),(0,u.jsx)("button",{onClick:()=>{i(!a)},children:a?"Hide Details":"Show Details"}),a&&(0,u.jsx)(v,{entry:t})]})};var j=a(2497),f=a(8855);const _=function(e){let{city:t}=e;const[a,l]=(0,s.useState)([]),[o,d]=(0,s.useState)({}),[h,m]=(0,s.useState)(""),[p,x]=(0,s.useState)(0);(0,s.useEffect)((()=>{if(!t)return;(async()=>{try{const e=localStorage.getItem("city"),a=localStorage.getItem("cityDetails"),s=localStorage.getItem("forecast");if(e&&a&&s&&e===t)d(JSON.parse(a)),l(JSON.parse(s)),m("");else{const e=await i.A.get("https://api.openweathermap.org/geo/1.0/direct?q=".concat(t,"&limit=1&appid=").concat(r.F.key));if(0===e.data.length)return void m("City not found!");const{lat:a,lon:s,name:n,country:c}=e.data[0];d({city:n,country:c});const o=await i.A.get("https://api.openweathermap.org/data/2.5/forecast?lat=".concat(a,"&lon=").concat(s,"&appid=").concat(r.F.key)),h=v(o.data.list);l(h),m(""),localStorage.setItem("city",t),localStorage.setItem("cityDetails",JSON.stringify({city:n,country:c})),localStorage.setItem("forecast",JSON.stringify(h))}}catch(h){m(h.message)}})()}),[t]);const v=e=>{const t={},a=[];return e.forEach((e=>{const s=new Date(1e3*e.dt),i="".concat(s.getFullYear(),"-").concat(s.getMonth(),"-").concat(s.getDate());t[i]||(t[i]=!0,a.push(e))})),a.slice(0,6)};return console.log("cityDetails:",o),console.log("forecast:",a),(0,u.jsxs)("div",{className:n.fiveDays,children:[(0,u.jsx)("div",{className:n.navigation,children:(0,u.jsx)(c.A,{})}),h&&(0,u.jsx)("div",{className:n.error,children:h}),o.city&&o.country&&(0,u.jsx)("div",{className:n.title,children:(0,u.jsx)("h2",{children:"".concat(o.city,", ").concat(o.country)})}),a.length>0?(0,u.jsxs)("div",{className:n.forecast,children:[a.slice(p,p+3).map((e=>(0,u.jsx)(g,{entry:e},e.dt))),(0,u.jsxs)("div",{className:n.pagination,children:[(0,u.jsx)("button",{onClick:()=>{p-3>=0&&x(p-3)},disabled:0===p,children:(0,u.jsx)(f.A,{})}),(0,u.jsx)("button",{onClick:()=>{p+3<a.length&&x(p+3)},disabled:p+3>=a.length,children:(0,u.jsx)(j.A,{})})]})]}):(0,u.jsx)("p",{className:n.noData,children:"No forecast data available. Please enter a city or select a favorite city!"})]})}},7781:(e,t,a)=>{a.d(t,{c:()=>i,g:()=>s});const s=e=>{let t=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"][(e.getDay()+6)%7].substring(0,3),a=e.getDate(),s=["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()];return{formattedDate:"".concat(a,"<sup>").concat((e=>{if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}})(a),"</sup> &nbsp;&nbsp;").concat(t),formattedMonth:s,formattedTime:"".concat(e.getHours(),":").concat(e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes(),":").concat(e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds())}},i=e=>{if(!e)return"";const[t,a]=e.split(" ");let[s,i]=t.split(":");return"12"===s&&(s="00"),"PM"===a&&(s=parseInt(s,10)+12),"".concat(s,":").concat(i)}},8636:(e,t,a)=>{var s=a(4994);t.A=void 0;var i=s(a(39)),n=a(579);t.A=(0,i.default)((0,n.jsx)("path",{d:"M8 19h3v3h2v-3h3l-4-4zm8-15h-3V1h-2v3H8l4 4zM4 9v2h16V9zm0 3h16v2H4z"}),"Compress")}}]);
//# sourceMappingURL=395.ecd56069.chunk.js.map