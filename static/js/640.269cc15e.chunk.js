"use strict";(self.webpackChunkforecastpro=self.webpackChunkforecastpro||[]).push([[640],{8931:(e,t,s)=>{s.d(t,{F:()=>a});const a={key:"8d4cdf8f8a1e4cb1a3f8e886d69e86c3",base:"https://api.openweathermap.org/data/2.5/"}},5606:(e,t,s)=>{s.d(t,{A:()=>l});s(5043);var a=s(5475);const i="Navigation_nav__7WdPp",n="Navigation_links__7LFKj",r="Navigation_navLink__7PcdX";var c=s(579);const l=function(){return(0,c.jsx)("div",{className:i,children:(0,c.jsxs)("div",{className:n,children:[(0,c.jsx)("div",{className:r,children:(0,c.jsx)(a.k2,{to:"/",children:"Today"})}),(0,c.jsx)("div",{className:r,children:(0,c.jsx)(a.k2,{to:"/fivedays",children:"5 DAYS"})})]})})}},2640:(e,t,s)=>{s.r(t),s.d(t,{default:()=>D});var a=s(5043),i=s(6213);const n={fiveDays:"FiveDays_fiveDays__+BcFv",navigation:"FiveDays_navigation__iJaOR",title:"FiveDays_title__DafaV",forecast:"FiveDays_forecast__NrTrQ",pagination:"FiveDays_pagination__zj0cz",navButton:"FiveDays_navButton__yTmU7",noData:"FiveDays_noData__JVyPU",hourlyForecast:"FiveDays_hourlyForecast__RPDaz",hourlyEntries:"FiveDays_hourlyEntries__HKqcc",hourlyPagination:"FiveDays_hourlyPagination__1LjWU"};var r=s(5606),c=s(8931);const l={forecastEntry:"ForecastEntry_forecastEntry__A1jL-",formatedMonth:"ForecastEntry_formatedMonth__FVSOE",temp:"ForecastEntry_temp__cKMbl",feelsLike:"ForecastEntry_feelsLike__SPXLF",feelsLikeTemp:"ForecastEntry_feelsLikeTemp__1ceG5",minMaxtempBox:"ForecastEntry_minMaxtempBox__l-8Iw",minMax:"ForecastEntry_minMax__mEAIo",tempMinMax:"ForecastEntry_tempMinMax__hCVQQ",span:"ForecastEntry_span__2xaR4",line:"ForecastEntry_line__vrTEO",moreInfo:"ForecastEntry_moreInfo__S1zZh",hoursInfo:"ForecastEntry_hoursInfo__oH3Gi"};var o=s(7781);const d={weatherDetails:"ForecastDetails_weatherDetails__tUdbu",weatherDescription:"ForecastDetails_weatherDescription__d64Zq",details:"ForecastDetails_details__OzPeP",windDetailsButton:"ForecastDetails_windDetailsButton__WzGa9",windDetailsBox:"ForecastDetails_windDetailsBox__zDaOh"},h=e=>["N","NE","E","SE","S","SW","W","NW"][Math.round(e/45)%8];const m=s.p+"static/media/barometer.2d089d7af97a00c54d5c903527049a60.svg";const u=s.p+"static/media/humidity.9ec22921d6c9f17b14631809a0dd6a15.svg";const x=s.p+"static/media/wind.c853b67fe91a88bef749043941fcbf02.svg";var p=s(8636),_=s(579);const y=function(e){let{entry:t}=e;const[s,i]=(0,a.useState)("");return(0,_.jsxs)("div",{className:d.weatherDetails,children:[(0,_.jsx)("div",{className:d.weatherDescription,children:(0,_.jsx)("p",{children:t.weather[0].description})}),t.rain&&t.rain["3h"]&&(0,_.jsxs)("div",{className:d.details,children:[(0,_.jsx)("img",{src:m,alt:"rain"}),(0,_.jsxs)("p",{children:[t.rain["3h"]," mm"]})]}),(0,_.jsxs)("div",{className:d.details,children:[(0,_.jsx)("img",{src:u,alt:"rain"}),(0,_.jsxs)("p",{children:[t.main.humidity,"%"]})]}),(0,_.jsxs)("div",{className:d.details,children:[(0,_.jsx)("img",{src:x,alt:"wind"}),(0,_.jsxs)("p",{children:[t.wind.speed," m/s"]})]}),(0,_.jsxs)("div",{className:d.details,children:[(0,_.jsx)(p.A,{sx:{fill:"white",fillOpacity:.4,width:"20px"}}),(0,_.jsxs)("p",{children:[t.main.pressure," hPa"]})]}),(0,_.jsx)("button",{className:d.windDetailsButton,onClick:()=>{i(!s)},children:s?"less details":"more details"}),s&&(0,_.jsxs)("div",{className:d.windDetailsBox,children:[(0,_.jsxs)("p",{className:d.direction,children:["Wind Direction: ",h(t.wind.deg)]}),(0,_.jsxs)("p",{className:d.gust,children:["Wind Gust: ",t.wind.gust," m/s"]}),(0,_.jsxs)("p",{className:d.visibility,children:["Visibility: ",t.visibility/1e3," km"]})]})]})},j=e=>Math.round(e-273.15),v=e=>{let{entry:t,onSelect:s}=e;const[i,n]=(0,a.useState)(!1),r=new Date(1e3*t.dt),{formattedDate:c,formattedMonth:d}=(0,o.g)(r),h="https://openweathermap.org/img/w/".concat(t.weather[0].icon,".png"),m=j(t.main.temp),u=j(t.main.temp_min),x=j(t.main.temp_max),p=j(t.main.feels_like);return(0,_.jsxs)("div",{className:l.forecastEntry,children:[(0,_.jsx)("div",{className:l.formatedDate,dangerouslySetInnerHTML:{__html:c}}),(0,_.jsxs)("p",{className:l.formatedMonth,children:[" ",d]}),(0,_.jsx)("img",{src:h,alt:"weather icon",width:"75px",height:"75px"}),(0,_.jsxs)("div",{className:l.temp,children:[" ",m,"\xb0 C"]}),(0,_.jsxs)("div",{className:l.feelsLike,children:["Feels like: ",(0,_.jsxs)("p",{className:l.feelsLikeTemp,children:[p,"\xb0 C"]})]}),(0,_.jsxs)("div",{className:l.minMaxtempBox,children:[(0,_.jsxs)("div",{className:l.minMax,children:[(0,_.jsx)("p",{children:"min"}),(0,_.jsxs)("p",{className:l.tempMinMax,children:[u,"\xb0 "]})]}),(0,_.jsx)("div",{className:l.span,children:(0,_.jsx)("span",{className:l.line})}),(0,_.jsxs)("div",{className:l.minMax,children:[(0,_.jsx)("p",{children:"max"}),(0,_.jsxs)("p",{className:l.tempMinMax,children:[x,"\xb0 "]})]})]}),(0,_.jsx)("button",{className:l.moreInfo,onClick:()=>{n(!i)},children:i?"less info":"more info"}),(0,_.jsx)("button",{className:l.hoursInfo,onClick:()=>{s(r)},children:"3 hour info"}),i&&(0,_.jsx)(y,{entry:t})]})};var g=s(2497),f=s(8855);const N={hourlyEntry:"HourlyForecast_hourlyEntry__RKLka",detailsWind:"HourlyForecast_detailsWind__OpWAq",details:"HourlyForecast_details__QhSWq",wind:"HourlyForecast_wind__2bLp4",windDetails:"HourlyForecast_windDetails__-B+dt",feels:"HourlyForecast_feels__gJLHg"};const w=function(e){let{entry:t}=e;const[s,i]=(0,a.useState)(!1),n=new Date(1e3*t.dt),{formattedDate:r}=(0,o.g)(n),c=n.getHours(),l=Math.round(t.main.temp-273.15),d=j(t.main.feels_like),y=t.weather[0].description,v="https://openweathermap.org/img/w/".concat(t.weather[0].icon,".png");return console.log(t),(0,_.jsxs)("div",{className:N.hourlyEntry,children:[(0,_.jsx)("div",{className:N.date,children:(0,_.jsx)("p",{dangerouslySetInnerHTML:{__html:"".concat(r,"  ")}})}),(0,_.jsx)("div",{className:N.hour,children:(0,_.jsx)("p",{children:"".concat(c,":00")})}),(0,_.jsx)("div",{className:N.temp,children:(0,_.jsx)("p",{children:"".concat(l,"\xb0C")})}),(0,_.jsx)("div",{className:N.description,children:(0,_.jsx)("p",{children:y})}),(0,_.jsx)("img",{src:v,alt:"weather icon",width:"35px",height:"35px"}),(0,_.jsxs)("div",{className:N.feels,children:["Feels like:",(0,_.jsxs)("p",{children:[d,"\u2103"]})]}),(0,_.jsxs)("div",{className:N.details,children:[(0,_.jsx)(p.A,{sx:{fill:"white",fillOpacity:.4,width:"20px"}}),(0,_.jsxs)("p",{children:[t.main.pressure," hPa"]})]}),(0,_.jsxs)("div",{className:N.details,children:[(0,_.jsx)("img",{src:u,alt:"rain"}),(0,_.jsxs)("p",{children:[t.main.humidity,"%"]})]}),t.rain&&t.rain["3h"]&&(0,_.jsxs)("div",{className:N.details,children:[(0,_.jsx)("img",{src:m,alt:"rain"}),(0,_.jsxs)("p",{children:[t.rain["3h"]," mm"]})]}),(0,_.jsxs)("div",{className:N.detailsWind,onClick:e=>{e.stopPropagation(),i(!s)},children:[(0,_.jsx)("img",{src:x,alt:"wind"}),(0,_.jsxs)("p",{children:[t.wind.speed," m/s"]})]}),s&&(0,_.jsxs)("div",{className:N.wind,children:[(0,_.jsxs)("div",{className:N.windDetails,children:["Wind Dir:",(0,_.jsx)("p",{children:h(t.wind.deg)})]}),(0,_.jsxs)("div",{className:N.windDetails,children:["Wind Gust:",(0,_.jsxs)("p",{children:[t.wind.gust," m/s"]})]}),(0,_.jsxs)("div",{className:N.windDetails,children:["Visibility:",(0,_.jsxs)("p",{children:[t.visibility/1e3," km"]})]})]})]})};const D=function(e){let{city:t}=e;const[s,l]=(0,a.useState)([]),[o,d]=(0,a.useState)({}),[h,m]=(0,a.useState)(""),[u,x]=(0,a.useState)(0),[p,y]=(0,a.useState)(null),[j,N]=(0,a.useState)([]),[D,F]=(0,a.useState)(!1),[S,M]=(0,a.useState)(3),[b,k]=(0,a.useState)(8),[E,I]=(0,a.useState)(0);(0,a.useEffect)((()=>{if(!t)return;(async()=>{try{const e=localStorage.getItem("city"),s=localStorage.getItem("cityDetails"),a=localStorage.getItem("forecast"),n=localStorage.getItem("hourlyForecast");if(e&&s&&a&&n&&e===t)d(JSON.parse(s)),l(JSON.parse(a)),N(JSON.parse(n)),F(!!n),m("");else{const e=await i.A.get("https://api.openweathermap.org/geo/1.0/direct?q=".concat(t,"&limit=1&appid=").concat(c.F.key));if(0===e.data.length)return void m("City not found!");const{lat:s,lon:a,name:n,country:r}=e.data[0];d({city:n,country:r});const o=await i.A.get("https://api.openweathermap.org/data/2.5/forecast?lat=".concat(s,"&lon=").concat(a,"&appid=").concat(c.F.key)),h=A(o.data.list);l(h),N(o.data.list),m(""),localStorage.setItem("city",t),localStorage.setItem("cityDetails",JSON.stringify({city:n,country:r})),localStorage.setItem("forecast",JSON.stringify(h)),localStorage.setItem("hourlyForecast",JSON.stringify(o.data.list)),F(!0)}}catch(h){m(h.message)}})()}),[t]);const A=e=>{const t={},s=[];return e.forEach((e=>{const a=new Date(1e3*e.dt),i=new Date;if(i.setHours(0,0,0,0),a>=i){const i="".concat(a.getFullYear(),"-").concat(a.getMonth(),"-").concat(a.getDate());t[i]||(t[i]=!0,s.push(e))}})),s.slice(0,6)},L=e=>{y(e),F(!0),I(0)},B=()=>{if(!p)return[];return j.filter((e=>{const t=new Date(1e3*e.dt);return t.getFullYear()===p.getFullYear()&&t.getMonth()===p.getMonth()&&t.getDate()===p.getDate()}))};return(0,a.useEffect)((()=>{const e=()=>{const e=window.innerWidth;e<=480?(M(1),k(1)):e<=768?(M(3),k(3)):e<=1024?(M(5),k(5)):e<=1200?(M(8),k(8)):(M(9),k(9))};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]),(0,_.jsxs)("div",{className:n.fiveDays,children:[(0,_.jsx)("div",{className:n.navigation,children:(0,_.jsx)(r.A,{})}),h&&(0,_.jsx)("div",{className:n.error,children:h}),o.city&&o.country&&(0,_.jsx)("div",{className:n.title,children:(0,_.jsx)("h2",{children:"".concat(o.city,", ").concat(o.country)})}),s.length>0?(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)("div",{className:n.forecast,children:s.slice(u,u+S).map((e=>(0,_.jsx)(v,{entry:e,onSelect:L},e.dt)))}),(0,_.jsxs)("div",{className:n.pagination,children:[(0,_.jsx)("button",{onClick:()=>{u-1>=0&&x(u-1)},disabled:0===u,className:n.navButton,children:(0,_.jsx)(f.A,{})}),(0,_.jsx)("button",{onClick:()=>{u+3<s.length&&x(u+1)},disabled:u+3>=s.length,className:n.navButton,children:(0,_.jsx)(g.A,{})})]}),D&&p&&(0,_.jsxs)("div",{className:n.hourlyForecast,children:[(0,_.jsx)("h3",{children:"Hourly Forecast"}),(0,_.jsx)("div",{className:n.hourlyEntries,children:B().slice(E*b,(E+1)*b).map((e=>(0,_.jsx)(w,{entry:e},e.dt)))}),(0,_.jsxs)("div",{className:n.hourlyPagination,children:[(0,_.jsx)("button",{onClick:()=>{E-1>=0&&I(E-1)},disabled:0===E,className:n.navButton,children:(0,_.jsx)(f.A,{})}),(0,_.jsx)("button",{onClick:()=>{E+1<Math.ceil(B().length/b)&&I(E+1)},disabled:(E+1)*b>=B().length,className:n.navButton,children:(0,_.jsx)(g.A,{})})]})]})]}):(0,_.jsx)("p",{className:n.noData,children:"No forecast data available. Please enter a city or select a favorite city!"})]})}},7781:(e,t,s)=>{s.d(t,{c:()=>i,g:()=>a});const a=e=>{let t=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"][(e.getDay()+6)%7].substring(0,3),s=e.getDate(),a=["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()],i=e.getFullYear();return{formattedDate:"".concat(s,"<sup>").concat((e=>{if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}})(s),"</sup> &nbsp;&nbsp;").concat(t),formattedMonth:a,formattedTime:"".concat(e.getHours(),":").concat(e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes(),":").concat(e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds()),formattedYear:i}},i=e=>{if(!e||"string"!==typeof e)return"";const[t,s]=e.split(" ");let[a,i,n]=t.split(":");return"12"===a&&(a="00"),"PM"===s&&(a=parseInt(a,10)+12),"".concat(a,":").concat(i,":").concat(n)}},8636:(e,t,s)=>{var a=s(4994);t.A=void 0;var i=a(s(39)),n=s(579);t.A=(0,i.default)((0,n.jsx)("path",{d:"M8 19h3v3h2v-3h3l-4-4zm8-15h-3V1h-2v3H8l4 4zM4 9v2h16V9zm0 3h16v2H4z"}),"Compress")}}]);
//# sourceMappingURL=640.269cc15e.chunk.js.map